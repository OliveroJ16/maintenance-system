<div class="header">
    <div class="header-left">
        <h1 id="pageTitle">Mantenimientos</h1>
        <p id="pageDescription">Gesti√≥n de mantenimientos programados</p>
    </div>
</div>

<div class="content-area">

    <!-- üîµ PESTA√ëAS -->
    <div style="display:flex; gap:12px; margin-bottom:24px;">
        <button class="btn tab-btn btn-primary" onclick="switchTab('tab-mantenimientos')" id="tabBtn-mantenimientos">
            Mantenimientos
        </button>

        <button class="btn tab-btn btn-secondary" onclick="switchTab('tab-tipos')" id="tabBtn-tipos">
            Tipos de mantenimiento
        </button>

        <button class="btn tab-btn btn-secondary" onclick="switchTab('tab-config')" id="tabBtn-config">
            Configuraciones
        </button>
    </div>

    <!-- ------------------------------------------------------------------ -->
    <!-- üîµ TAB 1: LISTA DE MANTENIMIENTOS -->
    <!-- ------------------------------------------------------------------ -->

    <div id="tab-mantenimientos" class="section-card">

        <div class="section-header">
            <div class="section-title">
                <h2>Gesti√≥n de Mantenimientos</h2>
                <p>Consultar, programar y administrar mantenimientos</p>
            </div>

            <button class="btn btn-primary" onclick="openMaintenanceModal()">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                Nuevo Mantenimiento
            </button>
        </div>

        <div class="search-bar">
            <input type="text" placeholder="Buscar mantenimiento..." onkeyup="searchMaintenance(this.value)">
        </div>

        <!-- üîµ TABLA DE MANTENIMIENTOS -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Fecha Programada</th>
                        <th>KM Programado</th>
                        <th>Fecha Ejecuci√≥n</th>
                        <th>KM Ejecuci√≥n</th>
                        <th>Estado</th>
                        <th>Veh√≠culo</th>
                        <th>Tipo Mantenimiento</th>
                        <th>Taller</th>
                        <th>Acciones</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="m : ${maintenances}">
                        <td th:text="${m.scheduledDate}"></td>
                        <td th:text="${m.scheduledKm}"></td>
                        <td th:text="${m.executionDate ?: '‚Äî'}"></td>
                        <td th:text="${m.executionKm ?: '‚Äî'}"></td>
                        <td th:text="${m.status}"></td>
                        <td th:text="${m.vehicle != null ? m.vehicle.plate : '‚Äî'}"></td>
                        <td th:text="${m.maintenanceType != null ? m.maintenanceType.typeName : '‚Äî'}"></td>
                        <td th:text="${m.workshop != null ? m.workshop.workshopName : 'No asignado'}"></td>
                        <td>
                            <div class="action-buttons">
                                <!-- EDITAR -->
                                <button class="icon-btn edit" onclick="editMaintenanceRecord(this)"
                                    th:data-id="${m.idMaintenance}" th:data-scheduleddate="${m.scheduledDate}"
                                    th:data-scheduledkm="${m.scheduledKm}" th:data-executiondate="${m.executionDate}"
                                    th:data-executionkm="${m.executionKm}" th:data-status="${m.status}"
                                    th:data-vehicle="${m.vehicle != null ? m.vehicle.idVehicle : ''}"
                                    th:data-type="${m.maintenanceType != null ? m.maintenanceType.idMaintenanceType : ''}"
                                    th:data-workshop="${m.workshop != null ? m.workshop.idWorkshop : ''}"
                                    th:data-description="${m.description}">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                    </svg>
                                </button>

                                <!-- ELIMINAR -->
                                <button class="icon-btn delete"
                                    th:onclick="'confirmDeleteMaintenance(' + ${m.idMaintenance} + ')'">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div> <!-- END TAB 1 -->

    <!-- ------------------------------------------------------------------ -->
    <!-- üîµ TAB 2: TIPOS DE MANTENIMIENTO -->
    <!-- ------------------------------------------------------------------ -->

    <div id="tab-tipos" class="section-card" style="display:none;">

        <div class="section-header">
            <div class="section-title">
                <h2>Tipos de Mantenimiento</h2>
                <p>Gestiona los tipos usados en los mantenimientos</p>
            </div>

            <button class="btn btn-primary" onclick="openTypeModal()">
                <svg width="18" height="18" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                Nuevo Tipo
            </button>
        </div>

        <!-- Buscador -->
        <div class="search-bar">
            <input type="text" placeholder="Buscar tipo..." onkeyup="searchMaintenanceTypes(this.value)">
        </div>

        <!-- Tabla -->
        <div class="table-container">
            <table id="maintenanceTypeTable">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Categor√≠a</th>
                        <th>Prioridad</th>
                        <th>Descripci√≥n</th>
                        <th>Acciones</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="mt : ${maintenanceTypes}">
                        <td><strong th:text="${mt.typeName}">Cambio de Aceite</strong></td>
                        <td th:text="${mt.category}">Preventivo</td>
                        <td th:text="${mt.priority}">Media</td>
                        <td th:text="${mt.description ?: '‚Äî'}">Descripci√≥n del mantenimiento</td>
                        <td>
                            <div class="action-buttons">

                                <!-- EDITAR -->
                                <button class="icon-btn edit" onclick="editType(this)"
                                    th:data-id="${mt.idMaintenanceType}" th:data-name="${mt.typeName}"
                                    th:data-category="${mt.category}" th:data-priority="${mt.priority}"
                                    th:data-description="${mt.description}">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 
                                        002 2h11a2 2 0 002-2v-5m-1.414-9.414
                                        a2 2 0 112.828 2.828L11.828 15H9v-2.828
                                        l8.586-8.586z" />
                                    </svg>
                                </button>

                                <!-- ELIMINAR -->
                                <button class="icon-btn delete"
                                    th:onclick="'confirmDeleteType(' + ${mt.idMaintenanceType} + ')'">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862
                                        a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4
                                        a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                    </svg>
                                </button>

                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div> <!-- END TAB 2 -->


    <!-- ========================================== -->
    <!-- MODAL: CREAR TIPO DE MANTENIMIENTO -->
    <!-- ========================================== -->
    <div id="typeModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="typeModalTitle">Nuevo Tipo de Mantenimiento</h3>
                <button class="close-btn" onclick="closeTypeModal()">&times;</button>
            </div>


            <form id="typeForm" th:action="@{/maintenance-type}" th:object="${newMaintenanceType}" method="post"
                onsubmit="saveType(event)">

                <div class="form-grid">
                    <div class="form-group">
                        <label>Nombre del Tipo</label>
                        <input type="text" th:field="*{typeName}" required>
                    </div>

                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select th:field="*{category}" required>
                            <option value="">Seleccionar categor√≠a</option>
                            <option value="PREVENTIVO">Preventivo</option>
                            <option value="CORRECTIVO">Correctivo</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Prioridad</label>
                        <select th:field="*{priority}" required>
                            <option value="">Seleccionar prioridad</option>
                            <option value="BAJA">Baja</option>
                            <option value="MEDIA">Media</option>
                            <option value="ALTA">Alta</option>
                        </select>
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea th:field="*{description}" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeTypeModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- MODAL: EDITAR TIPO DE MANTENIMIENTO -->
    <!-- ========================================== -->
    <div id="editTypeModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Tipo de Mantenimiento</h3>
                <button class="close-btn" onclick="closeEditTypeModal()">&times;</button>
            </div>

            <form id="editTypeForm" onsubmit="updateType(event)">
                <input type="hidden" name="idType">

                <div class="form-grid">

                    <div class="form-group">
                        <label>Nombre del Tipo</label>
                        <input type="text" name="typeName" required>
                    </div>

                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select name="category" required>
                            <option value="">Seleccionar categor√≠a</option>
                            <option value="PREVENTIVO">Preventivo</option>
                            <option value="CORRECTIVO">Correctivo</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Prioridad</label>
                        <select name="priority" required>
                            <option value="">Seleccionar prioridad</option>
                            <option value="BAJA">Baja</option>
                            <option value="MEDIA">Media</option>
                            <option value="ALTA">Alta</option>
                        </select>
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea name="description" rows="3"></textarea>
                    </div>

                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditTypeModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Actualizar</button>
                </div>

            </form>
        </div>
    </div>


    <!-- ------------------------------------------------------------------ -->
    <!-- üîµ TAB 3: CONFIGURACIONES -->
    <!-- ------------------------------------------------------------------ -->

    <div id="tab-config" class="section-card" style="display:none;">

        <div class="section-header">
            <div class="section-title">
                <h2>Configuraciones de Mantenimiento</h2>
                <p>Frecuencias por veh√≠culo y tipo</p>
            </div>

            <button class="btn btn-primary" onclick="openConfigModal()">
                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                Nueva Configuraci√≥n
            </button>
        </div>

        <div class="search-bar">
            <input type="text" placeholder="Buscar configuraci√≥n..." onkeyup="searchConfig(this.value)">
        </div>

        <div class="table-container">
            <table id="configTable">
                <thead>
                    <tr>
                        <th>Veh√≠culo</th>
                        <th>Tipo Mantenimiento</th>
                        <th>Frecuencia KM</th>
                        <th>Frecuencia Meses</th>
                        <th>Descripci√≥n</th>
                        <th>Acciones</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="c : ${configs}">
                        <td th:text="${c.vehicle != null ? c.vehicle.plate : '‚Äî'}">ABC-123</td>
                        <td th:text="${c.maintenanceType != null ? c.maintenanceType.typeName : '‚Äî'}">Cambio de Aceite
                        </td>
                        <td th:text="${c.frequencyKm != null ? c.frequencyKm + ' km' : '‚Äî'}">7000 km</td>
                        <td th:text="${c.frequencyMonths != null ? c.frequencyMonths + ' meses' : '‚Äî'}">6 meses</td>
                        <td th:text="${c.description ?: '‚Äî'}">Descripci√≥n</td>
                        <td>
                            <div class="action-buttons">
                                <!-- EDITAR -->
                                <button class="icon-btn edit" onclick="editConfig(this)"
                                    th:data-id="${c.idMaintenanceConfig}"
                                    th:data-vehicle="${c.vehicle != null ? c.vehicle.idVehicle : ''}"
                                    th:data-type="${c.maintenanceType != null ? c.maintenanceType.idMaintenanceType : ''}"
                                    th:data-km="${c.frequencyKm}" th:data-months="${c.frequencyMonths}"
                                    th:data-description="${c.description}">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                    </svg>
                                </button>

                                <!-- ELIMINAR -->
                                <button class="icon-btn delete"
                                    th:onclick="'confirmDeleteConfig(' + ${c.idMaintenanceConfig} + ')'">

                                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div> <!-- END TAB 3 -->

    <!-- ========================================== -->
    <!-- MODAL: CREAR CONFIGURACI√ìN -->
    <!-- ========================================== -->
    <div id="configModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="configModalTitle">Nueva Configuraci√≥n de Mantenimiento</h3>
                <button class="close-btn" onclick="closeConfigModal()">&times;</button>
            </div>

            <form id="configForm" th:action="@{/maintenance-config}" th:object="${newConfig}" method="post"
                onsubmit="saveConfig(event)">

                <div class="form-grid">
                    <div class="form-group">
                        <label>Veh√≠culo</label>
                        <select th:field="*{vehicle.idVehicle}" required>
                            <option value="">Seleccionar veh√≠culo</option>
                            <option th:each="v : ${vehicles}" th:value="${v.idVehicle}"
                                th:text="${v.plate + ' - ' + v.brand + ' ' + v.model}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Tipo de Mantenimiento</label>
                        <select th:field="*{maintenanceType.idMaintenanceType}" required>
                            <option value="">Seleccionar tipo</option>
                            <option th:each="mt : ${maintenanceTypes}" th:value="${mt.idMaintenanceType}"
                                th:text="${mt.typeName}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Frecuencia en KM</label>
                        <input type="number" th:field="*{frequencyKm}" placeholder="ej: 5000" min="0">
                    </div>

                    <div class="form-group">
                        <label>Frecuencia en Meses</label>
                        <input type="number" th:field="*{frequencyMonths}" placeholder="ej: 6" min="0">
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea th:field="*{description}" rows="3"
                            placeholder="Detalles adicionales sobre esta configuraci√≥n"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeConfigModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- MODAL: EDITAR CONFIGURACI√ìN -->
    <!-- ========================================== -->
    <div id="editConfigModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Configuraci√≥n de Mantenimiento</h3>
                <button class="close-btn" onclick="closeEditConfigModal()">&times;</button>
            </div>

            <form id="editConfigForm" onsubmit="updateConfig(event)">
                <input type="hidden" name="idConfig">

                <div class="form-grid">
                    <div class="form-group">
                        <label>Veh√≠culo</label>
                        <select name="vehicle.idVehicle" required>
                            <option value="">Seleccionar veh√≠culo</option>
                            <option th:each="v : ${vehicles}" th:value="${v.idVehicle}"
                                th:text="${v.plate + ' - ' + v.brand + ' ' + v.model}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Tipo de Mantenimiento</label>
                        <select name="maintenanceType.idMaintenanceType" required>
                            <option value="">Seleccionar tipo</option>
                            <option th:each="mt : ${maintenanceTypes}" th:value="${mt.idMaintenanceType}"
                                th:text="${mt.typeName}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Frecuencia en KM</label>
                        <input type="number" name="frequencyKm" placeholder="ej: 5000" min="0">
                    </div>

                    <div class="form-group">
                        <label>Frecuencia en Meses</label>
                        <input type="number" name="frequencyMonths" placeholder="ej: 6" min="0">
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea name="description" rows="3"
                            placeholder="Detalles adicionales sobre esta configuraci√≥n"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditConfigModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Actualizar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- MODAL: CREAR MANTENIMIENTO -->
    <!-- ========================================== -->
    <div id="maintenanceModal" class="modal hidden">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3 id="maintenanceModalTitle">Nuevo Mantenimiento</h3>
                <button class="close-btn" onclick="closeMaintenanceModal()">&times;</button>
            </div>

            <form id="maintenanceForm" th:action="@{/maintenance}" th:object="${newMaintenance}" method="post"
                onsubmit="saveMaintenanceRecord(event)">

                <div class="form-grid">
                    <div class="form-group">
                        <label>Fecha Programada <span style="color: red;">*</span></label>
                        <input type="date" th:field="*{scheduledDate}" required>
                    </div>

                    <div class="form-group">
                        <label>KM Programado <span style="color: red;">*</span></label>
                        <input type="number" th:field="*{scheduledKm}" placeholder="ej: 50000" min="0" required>
                    </div>

                    <div class="form-group">
                        <label>Fecha de Ejecuci√≥n</label>
                        <input type="date" th:field="*{executionDate}">
                    </div>

                    <div class="form-group">
                        <label>KM de Ejecuci√≥n</label>
                        <input type="number" th:field="*{executionKm}" placeholder="ej: 50100" min="0">
                    </div>

                    <div class="form-group">
                        <label>Estado <span style="color: red;">*</span></label>
                        <select th:field="*{status}" required>
                            <option value="">Seleccionar estado</option>
                            <option value="PENDIENTE">Pendiente</option>
                            <option value="EN_PROCESO">En Proceso</option>
                            <option value="COMPLETADO">Completado</option>
                            <option value="CANCELADO">Cancelado</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Veh√≠culo <span style="color: red;">*</span></label>
                        <select th:field="*{vehicle.idVehicle}" required>
                            <option value="">Seleccionar veh√≠culo</option>
                            <option th:each="v : ${vehicles}" th:value="${v.idVehicle}"
                                th:text="${v.plate + ' - ' + v.brand + ' ' + v.model}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Tipo de Mantenimiento <span style="color: red;">*</span></label>
                        <select th:field="*{maintenanceType.idMaintenanceType}" required>
                            <option value="">Seleccionar tipo</option>
                            <option th:each="mt : ${maintenanceTypes}" th:value="${mt.idMaintenanceType}"
                                th:text="${mt.typeName}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Taller <span style="color: red;">*</span></label>
                        <select th:field="*{workshop.idWorkshop}" id="workshopSelect"
                            onchange="loadWorkshopServices(this.value)" required>
                            <option value="">Seleccionar taller</option>
                            <option th:each="w : ${workshops}" th:value="${w.idWorkshop}" th:text="${w.workshopName}">
                            </option>
                        </select>
                    </div>

                    <!-- Servicios disponibles del taller -->
                    <div class="form-group" id="servicesContainer" style="grid-column: span 2; display: none;">
                        <label>Servicios a Realizar</label>
                        <div id="servicesList"
                            style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
                            <!-- Los servicios se cargar√°n din√°micamente aqu√≠ -->
                        </div>
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea th:field="*{description}" rows="3"
                            placeholder="Detalles adicionales sobre el mantenimiento"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeMaintenanceModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- MODAL: EDITAR MANTENIMIENTO -->
    <!-- ========================================== -->
    <div id="editMaintenanceModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Mantenimiento</h3>
                <button class="close-btn" onclick="closeEditMaintenanceModal()">&times;</button>
            </div>

            <form id="editMaintenanceForm" onsubmit="updateMaintenanceRecord(event)">
                <input type="hidden" name="idMaintenance">

                <div class="form-grid">
                    <div class="form-group">
                        <label>Fecha Programada <span style="color: red;">*</span></label>
                        <input type="date" name="scheduledDate" required>
                    </div>

                    <div class="form-group">
                        <label>KM Programado <span style="color: red;">*</span></label>
                        <input type="number" name="scheduledKm" placeholder="ej: 50000" min="0" required>
                    </div>

                    <div class="form-group">
                        <label>Fecha de Ejecuci√≥n</label>
                        <input type="date" name="executionDate">
                    </div>

                    <div class="form-group">
                        <label>KM de Ejecuci√≥n</label>
                        <input type="number" name="executionKm" placeholder="ej: 50100" min="0">
                    </div>

                    <div class="form-group">
                        <label>Estado <span style="color: red;">*</span></label>
                        <select name="status" required>
                            <option value="">Seleccionar estado</option>
                            <option value="PENDIENTE">Pendiente</option>
                            <option value="EN_PROCESO">En Proceso</option>
                            <option value="COMPLETADO">Completado</option>
                            <option value="CANCELADO">Cancelado</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Veh√≠culo <span style="color: red;">*</span></label>
                        <select name="vehicle.idVehicle" required>
                            <option value="">Seleccionar veh√≠culo</option>
                            <option th:each="v : ${vehicles}" th:value="${v.idVehicle}"
                                th:text="${v.plate + ' - ' + v.brand + ' ' + v.model}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Tipo de Mantenimiento <span style="color: red;">*</span></label>
                        <select name="maintenanceType.idMaintenanceType" required>
                            <option value="">Seleccionar tipo</option>
                            <option th:each="mt : ${maintenanceTypes}" th:value="${mt.idMaintenanceType}"
                                th:text="${mt.typeName}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Taller</label>
                        <select name="workshop.idWorkshop">
                            <option value="">Seleccionar taller</option>
                            <option th:each="w : ${workshops}" th:value="${w.idWorkshop}" th:text="${w.workshopName}">
                            </option>
                        </select>
                    </div>

                    <div class="form-group" style="grid-column: span 2;">
                        <label>Descripci√≥n</label>
                        <textarea name="description" rows="3"
                            placeholder="Detalles adicionales sobre el mantenimiento"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeEditMaintenanceModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Actualizar</button>
                </div>
            </form>
        </div>
    </div>